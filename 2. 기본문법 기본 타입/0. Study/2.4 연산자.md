# 2. 기본 문법, 기본 타입

- [2. 기본 문법, 기본 타입](#2-기본-문법-기본-타입)
  - [2.4 연산자](#24-연산자)
    - [2.4.1 산술 연산자(1) 이항 연산자](#241-산술-연산자1-이항-연산자)
    - [2.4.2 산술 연산자(2) 단항 연산자](#242-산술-연산자2-단항-연산자)
    - [2.4.3 + 연산자로 문자열 결합하기](#243--연산자로-문자열-결합하기)
    - [2.4.4 비교 연산자와 등가 연산자](#244-비교-연산자와-등가-연산자)
    - [2.4.5 논리 연산자(1) 불리언 연산](#245-논리-연산자1-불리언-연산)
    - [2.4.6 논리 연산자(2) 일반형과 단락 평가](#246-논리-연산자2-일반형과-단락-평가)
    - [2.4.7 조건 연산자](#247-조건-연산자)
    - [2.4.8 대입 연산자](#248-대입-연산자)
    - [2.4.9 그 밖의 연산자](#249-그-밖의-연산자)

## 2.4 연산자

연산자는 식을 만들기 위해 이용되는 기호

- 피연산자 : 연산자의 구성 요소가 된 식

### 2.4.1 산술 연산자(1) 이항 연산자

산술 연산자: 수치 계산을 수행하는 연산자

이항 연산자 : <u>식1</u> + <u>식2</u>와 같이 두 식을 연결해서 새로운 식을 구성하는 연산자 (피연산자가 두 개)

종류 : `+`, `-`, `*`, `/`, `%`, `**`

이 연산자들은 산술 연산자이므로 피연산자는 숫자(number 또는 bigint 타입)여야 함. (`+`는 문자열 결합에도 사용할 수 있으므로 예외)

산술 연산자에는 반환값이 있는데 피연산자가 number 타입이면 number 타입, bigint 타입이면 bigint 타입이 반환됨.

```ts
// res1의 타입은 number 타입
const res1 = 5 - 1.86;
// res2의 타입은 bigint 타입
const res2 = 2n ** 5n;
```

산술 연산자의 피연산자로 숫자 이외의 값을 사용하면 컴파일 에러가 남.

```ts
const str: string = "123";
// error TS2363: The right-hand side of an arithmetic operation must be of type 'any', 'number', 'bigint' or an enum type.
console.log(123 * str);
```

연산자 우선 순위 : `**` > `*`, `/`, `%` > `+`, `-` (우선 순위가 같으면 왼쪽의 연산자가 우선)

```ts
console.log(5 - 3 - 1); // 1이라고 출력된다
console.log(5 - 3 - 1); // 1이라고 출력된다
console.log(5 - (3 - 1)); // 3이라고 출력된다
```

### 2.4.2 산술 연산자(2) 단항 연산자

<u>-식</u>과 같이 식 하나에 붙여서 새로운 식을 구성하는 연산자 (피연산자가 1개)

종류 : `+`, `-`, `++`, `--`

`-`는 식의 부호를 반전시킨 값을 계산

```ts
const x = 123;
const minusx = -x; // minusx는 number 타입
console.log(minusx); // -123이라고 출력된다
```

`+`는 넘겨받은 값을 숫자로 변환, Number(str)과 동일한 역할

```ts
const str: string = "123";
console.log(+str * 100); // 12300이 출력된다
```

`++`는 변수의 값을 1 증가, `--`는 변수의 값을 1 감소

- 식의 앞과 뒤에 모두 붙일 수 있음, 변수에만 붙일 수 있음.
- 변수의 값이 변하기 때문에 let으로 선언된 변수에만 사용 가능
- ++나 —를 식의 뒤에 붙인 경우 '변경 전의 값'이, 앞에 붙인 경우 '변경 후의 값'이 반환

```ts
let foo = 10;
foo++;
console.log(foo); // 11이 출력된다
--foo;
console.log(foo); // 10이 출력된다
```

```ts
let foo = 10;
console.log(++foo); // 변경 후의 값인 11이 출력된다
console.log(foo--); // 변경 전의 값인 11이 출력된다
```

### 2.4.3 + 연산자로 문자열 결합하기

피연산자의 한쪽이 문자열이라면 나머지 한쪽은 어떤 값이든 넘길 수 있음.

문자열 이외의 값은 결합 전에 문자열로 변환되고 결과값도 문자열로 출력

```ts
console.log("foo" + true); // "footrue"라고 출력된다
console.log(null + "bar"); // "nullbar"라고 출력된다
```

최근에는 +연산자 보다 템플릿 리터럴을 더 많이 사용하는 추세

### 2.4.4 비교 연산자와 등가 연산자

비교 연산자

- 값의 크고 작음을 비교하는 연산자

- 종류 : `<`, `>`, `≤`, `≥`

등가 연산자

- 값의 일치를 검사하는 연산자

- 종류 : `==`, `!=`, `===`, `!==`

비교 연산자와 등가 연산자의 반환값은 무조건 불리언 타입

비교 연산자는 대부분 숫잣값의 크기를 비교하지만 문자의 코드 유닛을 가지고 문자열의 크기 비교를 하기도 함

```ts
// true가 출력된다(a는 o보다 코드 포인트가 작기 때문)
console.log("apple" < "orange");
```

`===`는 두 값이 일치하면 true, 그렇지 않으면 false

`!==`는 두 값이 같지 않으면 true, 같으면 false

문자열, 숫자, boolean, null, undefined도 검사 가능

기본적으로 `==`와 `!=`는 사용하지 않음

`==`는 서로 다른 타입을 비교하면 타입을 암시적으로 변환한 뒤에 양쪽을 비교하므로 의도치 않게 true가 나오기도 함.  
`===`는 더 엄격하게 일치 검사를 하기 때문에 두 피연산자의 타입이 다르면 결과가 항상 false가 됨.

```ts
const str: any = "3";

// true가 출력된다(문자열이 숫자로 변환되기 때문)
console.log(str == 3);

// false가 출력된다(서로 다른 타입인 문자열과 숫자를 비교했기 때문)
console.log(str === 3);
```

`==`를 사용해도 되는 경우는 `x == null`을 비교하는 경우임.

`x == null`의 비교는 ‘x가 null 또는 undefined이다’라는 의미  
null과 undefined는 둘 다 데이터가 없다는 것을 나타내는 값이기 때문에 양쪽을 섞어서 처리하고 싶을 경우 사용 가능

`NaN`에는 비교 연산자가 통용되지 않음. 피연산자로 `NaN`이 주어지면 항상 false를 반환

`NaN` 여부를 검사하려면 Number.isNaN 함수를 사용해야 함.

### 2.4.5 논리 연산자(1) 불리언 연산

`&&` : ~이면서, 양 변이 참일 때만 결과가 참

`||` : ~이거나, 양 변 중 하나라도 참이면 참

`!` : boolean 값을 반전, 식이 참이면 <u>!식</u>은 거짓, 식이 거짓이면 <u>!식</u>은 참

```ts
const t = true,
  f = false;

console.log(t && t); // true라고 출력된다
console.log(t && f); // false라고 출력된다
console.log(f && f); // false라고 출력된다

console.log(t || t); // true라고 출력된다
console.log(t || f); // true라고 출력된다
console.log(f || f); // false라고 출력된다
```

### 2.4.6 논리 연산자(2) 일반형과 단락 평가

`&&`, `||`, `!` 연산자들은 불리언 외의 다른 타입의 피연산자에도 사용할 수 있음.

- 예)
- 123을 불리언으로 변환시키면 true이므로 !123은 false

- 이를 응용해 <u>!!식</u>과 같이 사용하기도 함.  
  <u>!(!식)</u>을 의미하는데 불리언 값이 2번 반전되어 식을 불리언으로 변환한 결과와 일치  
  값을 불리언으로 변환하는 방법 중 하나

```ts
const input1 = "123",
  input2 = "";

const input1isNotEmpty = !!input1;
console.log(input1isNotEmpty); // true라고 출력된다
const input2isNotEmpty = !!input2;
console.log(input2isNotEmpty); // false라고 출력된다
```

`&&`, `||`는 ‘좌변 피연산자를 불리언으로 변환한 결과’에 따라 작동

- 예)

- `x && y`에서 x를 불리언으로 변환한 결과가 false라면 x를 리턴, true라면 y를 리턴

- `x || y`는 x를 불리언으로 변환한 결과가 true라면 x, false라면 y를 반환

- `&&`와 `||`는 단락 평가 기능이 있음. 단락 평가는 연산자들이 좌측의 값을 반환할 경우, 오른쪽은 평가조차 되지 않는다는 의미

```ts
const displayName = name || getDefaultName();
```

`??` : `x ?? y`에서 x가 null이거나 undefined일 때만 y를 반환하고 그 외에는 x를 반환

- ‘데이터가 없으면 대쳇값을 사용하는 경우’에 매우 적합함.

- ‘데이터가 없는’ 상황과 ‘빈 문자열인’ 상황을 구분하려면 `||`보다 `??`가 더 적합함.

### 2.4.7 조건 연산자

`조건식 ? 참일 경우의 식 : 거짓일 경우의 식`

3개의 연산자를 갖는 연산자이므로 삼항 연산자로 불리기도 함.

참일 경우의 식과 거짓일 경우의 식 중에 필요한 쪽만 평가

```ts
import { createInterface } from "readline";

const rl = createInterface({
  input: process.stdin,
  output: process.stdout,
});

rl.question("숫자를 입력해 주세요:", (line) => {
  const num = Number(line);
  const message =
    0 <= num && num < 100
      ? `${num}은 0 이상 100 미만입니다`
      : `${num}은 0 이상 100 미만이 아닙니다`;
  console.log(message);
  rl.close();
});
```

### 2.4.8 대입 연산자

`변수 = 식`

오른쪽 피연산자인 식의 평가 결과를 왼쪽 피연산자인 변수에 대입

대입 연산자를 사용할 때는 변수의 타입과 식의 타입이 일치해야 함.

const로 선언된 변수에는 사용할 수 없음.

```ts
let foo: string = "문자열";
// 에러: Type 'number' is not assignable to type 'string'.
foo = 123;
```

그 외 종류: `+=`, `-=`, `*=`, `/=`, `%=,` `**=`

- 변수 += 식

- 풀어 쓰면 변수 = 변수 + 식과 동일

```ts
let num = 0;
num += 100; // num은 100 (0 + 100)
num *= 4; // num은 400 (100 * 4)
num -= 200; // num은 200 (400 - 200)
num /= 2; // num은 100 (200 / 2)
num **= 0.5; // num은 10 (100 ** 0.5)

console.log(num); // 10이라고 출력된다
```

### 2.4.9 그 밖의 연산자

비트 연산자

- `&` : AND

- `|` : OR

- `^` : XOR

비트 시프트 연산자

- `<<`, `>>`, `>>>`

이 연산자들은 이항 연산자이며 양쪽의 피연산자와 반환값이 모두 number 또는 bigint 타입임.

`~`는 비트를 반전 시키는 단항 연산자

```ts
console.log(0b0101 | 0b1100); // 13(0b1101)이 출력된다
console.log(0b0101 & 0b1100); // 4(0b0100)가 출력된다
console.log(~0b0101); // -6(-5-1)이 출력된다
```
