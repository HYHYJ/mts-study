# 1. 타입스크립트 소개

- [1. 타입스크립트 소개](#1-타입스크립트-소개)
  - [1.1 타입스크립트란?](#11-타입스크립트란)
    - [1.1.1 자바스크립트에 대한 ‘정적 타이핑’](#111-자바스크립트에-대한-정적-타이핑)
    - [1.1.2 뛰어난 표현력을 가진 타입 시스템](#112-뛰어난-표현력을-가진-타입-시스템)
    - [1.1.3 정적 타이핑의 장점(1) 타입 안전성](#113-정적-타이핑의-장점1-타입-안전성)
    - [1.1.4 정적 타이핑의 장점(2) 문서화와 입력 자동 완성](#114-정적-타이핑의-장점2-문서화와-입력-자동-완성)
    - [1.1.5 타입스크립트 연표](#115-타입스크립트-연표)
  - [1.2 타입스크립트와 자바스크립트의 관계](#12-타입스크립트와-자바스크립트의-관계)
    - [1.2.1 타입스크립트 컴파일러의 역할 (1) 타입 검사](#121-타입스크립트-컴파일러의-역할-1-타입-검사)
    - [1.2.2 타입스크립트 컴파일러의 역할 (2) 트랜스파일](#122-타입스크립트-컴파일러의-역할-2-트랜스파일)
    - [1.2.3 타입스크립트와 ECMAScript의 관계](#123-타입스크립트와-ecmascript의-관계)
  - [1.3 타입스크립트 개발 환경](#13-타입스크립트-개발-환경)
    - [1.3.1 Node.js 설치](#131-nodejs-설치)
    - [1.3.2 에디터 준비](#132-에디터-준비)
    - [1.3.3 디렉터리 생성 및 타입스크립트 설치](#133-디렉터리-생성-및-타입스크립트-설치)
    - [1.3.4 tsconfig.json 준비](#134-tsconfigjson-준비)
    - [1.3.5 첫 타입스크립트 프로그램](#135-첫-타입스크립트-프로그램)

## 1.1 타입스크립트란?

타입스크립트는 정적 타입 시스템을 갖고 있음. 컴파일러(tsc)가 있음. 이 컴파일러로 타입스크립트 프로그램에 대한 타입 검사를 수행할 수 있음. 타입에 관련된 프로그램 오류가 컴파일 에러로서 검출됨.

### 1.1.1 자바스크립트에 대한 ‘정적 타이핑’

타입스크립트 : 자바스크립트 + 정적 타이핑

`타입스크립트에서 정적 타이핑 이외의 부분은 자바스크립트`  
`자바스크립트에서 정적 타이핑 요소를 더한 것이 타입스크립트`

정적 타이핑 : 정적 타입 시스템. 변수나 식에 타입이 있음.

타입스크립트는 `타입 표기(type annotation)`와 함께 `타입 추론(type inference)` 기능도 제공.  
`타입 추론`은 타입 표기를 하지 않아도 타입을 알아서 보충해 주는 기능.

### 1.1.2 뛰어난 표현력을 가진 타입 시스템

뛰어난 표현력 : 다양한 로직을 나타낼 수 있음.  
기본적인 타입 뿐 아니라 객체 타입, 함수 타입도 표현할 수 있음.  
고도의 타입도 다룸(리터럴 타입, 유니온 타입, keyof 타입 등)

### 1.1.3 정적 타이핑의 장점(1) 타입 안전성

장점 : 타입 안전성, 문서화  
타입 안전성 : 컴파일러가 타입 검사를 통해 잘못된 프로그램을 검출해 줌.  
타입 검사 실패는 `타입에 모순이 있을 때` 일어남.

정적 타입 시스템 / 타입 안전성의 이점 : 실수를 바로 찾아낼 수 있어 성과물의 질이 높아짐.

컴파일 에러 발생 : "오히려 실수를 발견할 수 있어서 기쁘다"

### 1.1.4 정적 타이핑의 장점(2) 문서화와 입력 자동 완성

타입을 통한 문서화 : 다른 사람이 작성한 소스 코드를 읽을 때 도움이 됨.

```ts
function repeatHello(count: number): string {
  return 'hello'.repeat(count);
}
```

컴퓨터가 `자동 완성` 하는 데에도 도움을 줌.
자동 완성: 텍스트 에디터가 소스코드 입력을 도와주는 기능.

### 1.1.5 타입스크립트 연표

3개월에 1번 정도 버전업.  
2.0 버전 null safety 보장  
3.0 버전 안정성 개선, assert 타입 단언  
4.0 버전 템플릿 리터럴 타입

## 1.2 타입스크립트와 자바스크립트의 관계

### 1.2.1 타입스크립트 컴파일러의 역할 (1) 타입 검사

타입스크립트 컴파일러 역할 : `타입 검사`, `트랜스파일`

타입 검사 : 프로그램의 모순을 찾아내는 작업. 모순을 찾아내면 컴파일 에러 형식으로 보고함

모순을 찾아내는 재료 : 타입 정보  
프로그래머가 `타입 표기(Type Annotation)`를 통해 타입 정보 전달.

타입 검사는 정적 검사.  
정적 : 실제로 프로그램을 실행하지 않고도 검사를 할 수 있음(소스코드만 보고 이뤄지는 검사)

(테스트(유닛 테스트, 통합 테스트)는 동적 검사)

타입스크립트 프로그램은 `런타임 작동이 타입 정보에 의존하지 않는다`.

타입스크립트의 타입 시스템은 어디까지나 자바스크립트 개발 지원 위해 '덧붙인 것'  
=> 타입스크립트의 역할은 `정적 검사뿐`.

```ts
function double(value: number) {
  console.log(value * 2);
}
function double(value: string) {
  console.log(value.repeat(2));
}

double(123);
double('hello');
```

=> 컴파일 에러(Duplicate function implementation). 함수 오버로딩 기능이 없음. 프로그램의 의미(런타임에 무엇이 실행될지)는 타입 정보에 영향을 받지 않음.

```ts
function double(value: string | number) {
  if (typeof value === 'number') {
    console.log(value * 2);
  } else {
    console.log(value.repeat(2));
  }
}

double(123);
double('hello');
```

`런타임 동작이 (정적) 타입 정보에 의존하지 않는다`는 원칙은 자바스크립트의 확장이라는 입장을 지키기 위한 것. 타입의 역할을 타입 검사로 한정하고, 런타임 동작에는 손을 대지 않는 것.

### 1.2.2 타입스크립트 컴파일러의 역할 (2) 트랜스파일

트랜스파일: 타입스크립트 소스 코드를 자바스크립트 소스 코드로 변환하는 것.

- 단계
- 1. 타입 표기 제거
  - 제거 시 타입 정보는 참조되지 않음 => 어떠한 타입이 쓰여 있었는지에 따라서 변환 결과가 바뀌지는 않음
  - 타입스크립트의 타입 정보는 타입 검사만을 위해 이용되며, 프로그램의 작동이 타입에 따라 달라지지 않는 것도 보장됨
- 2. 새로운 구문을 낡은 구문으로 변환
  - 구버전 환경 지원 + 새로운 신규 기능 사용

```ts
// 트랜스파일 전（타입스크립트）
function repeatHello(count: number): string {
  return 'hello'.repeat(count);
}

// 트랜스파일 후（자바스크립트）
function repeatHello(count) {
  return 'hello'.repeat(count);
}
```

```ts
// 변환 전
class Human {
  greet() {
    console.log('Hello');
  }
}

// 변환 후
var Human = /** @class */ (function () {
  function Human() {}
  Human.prototype.greet = function () {
    console.log('Hello');
  };
  return Human;
})();
```

### 1.2.3 타입스크립트와 ECMAScript의 관계

새로운 ECMAScript 버전이 나오면 타입스크립트에도 그 기능이 추가. 새로운 기능이 스테이지3에 도달하는 것이 타입스크립트에 추가되는 조건.

스테이지4 : 제안이 완성되어 ECMAScript 사양으로 채택될 예정
스테이지3 : 완성 직전 상태

## 1.3 타입스크립트 개발 환경

### 1.3.1 Node.js 설치

### 1.3.2 에디터 준비

### 1.3.3 디렉터리 생성 및 타입스크립트 설치

```
npm init --yes
npm install --save-dev typescript @types/node
npm install --save-dev typescript@4.6.2 @types/node@14.14.19
```

```js
//package.json
"main": "index.js",
//=>
"main": "index.js",
"type": "module"
```

### 1.3.4 tsconfig.json 준비

```
npx tsc --init
```

npx : npm 부속 프로그램. node_modules 내에 설치된 CLI 프로그램을 실행시켜주는 툴.  
tsc는 타입스크립트 컴파일러의 CLI 프로그램 명령어.

주석 처리된 옵션은 기본값이 사용됨. 그외의 값을 사용하려면 주석 해제.

```js
"target": "es2020"
"module": "esnext" //상위 버전으로 조정
"moduleResolution": "node" //npm으로 설치한 모듈을 타입스크립트가 인식할 수 있게 해줌
"outDir": "./dist" //컴파일된 js 파일을 어느 디렉터리에 담을지 지정
"include": ["./src/**/*.ts"] //src 디렉터리 하위의 모든 .ts 파일이 컴파일 대상에 포함
```

### 1.3.5 첫 타입스크립트 프로그램

```
npx tsc
node dist/index.js
tsc --watch //ts 파일 저장될 때마다 자동 컴파일 실행
```
